"use strict";

var _require = require("chai"),
    expect = _require.expect,
    _require2 = require("sinon"),
    spy = _require2.spy,
    proxy = require("proxyquire");

var readFileSync = void 0,
    fsMock = void 0;

describe("utils", function () {

  beforeEach(function () {
    fsMock = {
      readFileSync: function readFileSync(filename) {
        return filename;
      }
    };

    spy(fsMock, "readFileSync");

    readFileSync = proxy("./", {
      fs: fsMock
    }).readFileSync;
  });

  describe("readFileSync", function () {

    it("should cache results", function () {
      readFileSync("some/file/name");
      readFileSync("some/file/name");

      expect(fsMock.readFileSync.calledOnce).to.be.ok;
    });
  });
});